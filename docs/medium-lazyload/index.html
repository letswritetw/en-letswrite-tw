<!DOCTYPE html>
<html lang="zh-Hant">

<meta charset="utf-8">

<title>Progressive Image Loading like Medium</title>
<meta name="description" content="">
<link rel="canonical" href="https://en.letswrite.tw/medium-lazyload/">

<meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">
<meta name="MobileOptimized" content="320">
<meta name="HandheldFriendly" content="True">
<meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#42A6F7">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="application-name" content="Let&#39;s Write, EN">
<meta name="msapplication-TileColor" content="#42A6F7">


<link rel="shortcut icon" href="https://letswritetw.github.io/letswritetw/dist/img/logo_512.png">
<link rel="apple-touch-icon" href="https://letswritetw.github.io/letswritetw/dist/img/logo_512.png">
<link rel="icon" type="image/png" href="https://letswritetw.github.io/letswritetw/dist/img/logo_512.png">



<link rel="stylesheet" href="https://en.letswrite.tw/css/tailwind.min.944314205316ee947bcf288198d2aab76325e8a6c5cf80263bf1940da9f4e040.css">


<meta property="og:url" content="https://en.letswrite.tw/medium-lazyload/">
  <meta property="og:site_name" content="Let&#39;s Write, EN">
  <meta property="og:title" content="Progressive Image Loading like Medium">
  <meta property="og:description" content="Outline of this article: Three ways to progressive images loading, Three steps of Medium Progressive Images Loading, Code Part, Test page loading time">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:published_time" content="2019-10-07T13:53:50+08:00">
    <meta property="article:modified_time" content="2019-10-07T13:53:50+08:00">
    <meta property="article:tag" content="Image">
    <meta property="article:tag" content="Medium">
    <meta property="article:tag" content="Progressive">
    <meta property="og:image" content="https://en.letswrite.tw/medium-lazyload/medium-lazyload.jpg">



<script>(function (w, d, s, l, i) {
    w[l] = w[l] || []; w[l].push({
      'gtm.start':
        new Date().getTime(), event: 'gtm.js'
    }); var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-NDGP84X');</script>


<script async src="https://cse.google.com/cse.js?cx=95b479913308d456e">
</script>

<body class="bg-gray-100">

	
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NDGP84X" height="0" width="0"
			style="display:none;visibility:hidden"></iframe></noscript>

	
<script type="application/ld+json">
  {
    "@context": "https://www.schema.org",
    "@type": "Organization",
    "name": "Let\u0027s Write, EN",
    "url": "https:\/\/en.letswrite.tw\/",
    "logo": "https:\/\/letswritetw.github.io\/letswritetw\/dist\/img\/logo_512.png"
  }
</script>

	<div class="p-4 sm:p-8 bg-gray-100">

		<div class="mx-auto p-4 sm:p-8 max-w-3xl bg-white rounded-lg shadow-xl">

			<div class="flex justify-between items-center">
				<ul class="flex items-center">
					
  
  

  
  <li>
    <a class="inline-block mx-1" href="https://t.me/letswritetw">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-3.11-8.83l.013-.007.87 2.87c.112.311.266.367.453.341.188-.025.287-.126.41-.244l1.188-1.148 2.55 1.888c.466.257.801.124.917-.432l1.657-7.822c.183-.728-.137-1.02-.702-.788l-9.733 3.76c-.664.266-.66.638-.12.803l2.497.78z" fill="rgba(102,102,102,1)"/></svg>
    </a>
  </li>

  
  <li>
    <a class="inline-block mx-1" href="https://github.com/letswritetw">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z" fill="rgba(102,102,102,1)"/></svg>
    </a>
  </li>

  
  

  
  
				</ul>
				<div class="sm:w-1/2">
					<div class="gcse-search"></div>
				</div>
			</div>

			
<h2 class="py-4 text-center font-bold text-4xl">
  <a class="inline-block hover:text-main" href="/">Let&#39;s Write, EN</a>
</h2>

<p class="pb-4 text-center">Front-end engineer August&#39;s study notes — solving problems, in simple ways.</p>

<nav class="mb-4 py-2 bg-gray-100 rounded-lg text-center">
  
  
  
  <a class=" px-4 hover:text-main" href="/"
    title="Index">Index</a>
  
  <a class=" px-4 hover:text-main" href="/categories/ai/"
    title="AI">AI</a>
  
  <a class=" px-4 hover:text-main" href="/categories/front-end/"
    title="Front-End">Front-End</a>
  
  <a class=" px-4 hover:text-main" href="/categories/google/"
    title="Google">Google</a>
  
</nav>

			<div>
				

	<aside id="trigger-to-top"></aside>

	<a id="js-to-top" class="fixed right-6 sm:right-10 bottom-6 sm:bottom-10 flex justify-center items-center w-10 h-10 bg-gray-300 rounded-lg transition-opacity" href="#">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 8l6 6H6z" fill="rgba(255,255,255,1)"/></svg>
	</a>

	<article class="single-article">

		
		



<div class="mb-2">
  <a href="/medium-lazyload/">
    <img class="block mx-auto rounded-lg" src="/medium-lazyload/medium-lazyload_hu_7e05f83a8a4969f3.jpg" alt="medium-lazyload.jpg"
      width="1792" height="1024">
  </a>
</div>


		
		<h1>Progressive Image Loading like Medium</h1>

		
		<p class="text-sm">2019-10-07 13:53</p>

		<hr>

		
		<div class="single-toc">
			<h2>TOC</h2>
			<nav id="TableOfContents">
  <ul>
    <li><a href="#three-ways-to-progressive-images-loading">Three ways to progressive images loading</a></li>
    <li><a href="#three-steps-of-medium-progressive-images-loading">Three steps of Medium Progressive Images Loading</a></li>
    <li><a href="#code-part">Code Part</a>
      <ul>
        <li><a href="#html--css">HTML / CSS</a></li>
        <li><a href="#javascript">JavaScript</a></li>
      </ul>
    </li>
    <li><a href="#test-page-loading-time">Test page loading time</a></li>
  </ul>
</nav>
		</div>

		<hr>

		
		<p>本篇中文版：<a href="https://letswrite.tw/medium-lazyload/">像 Medium 的漸近式圖片加載</a></p>
<h2 id="three-ways-to-progressive-images-loading">Three ways to progressive images loading</h2>
<p>The first time I knew the Medium was three years ago. I was amazed when I saw their progressive loading effect.</p>
<p>At the time, I just thought the technique was difficult because I was not familiar with JavaScript at the time.</p>
<p>Recently, I have often found information in Medium, which reminds me of the technology they have.</p>
<p>After three years, I probably know how Medium achieves progressive images effects, and I found an article that introduced progressive images loading:</p>
<p><a href="https://blog.botreetechnologies.com/page-load-optimization-by-progressive-image-loading-like-medium-1d0f94744a4d">Page Load Optimization by Progressive Image Loading (like Medium)</a></p>
<p>There are 3 ways to progressive loading images:</p>
<ol>
<li>Lazy Loading: Delay loading of images in long web pages. Images outside of viewport won’t be loaded before user scrolls to them.</li>
<li>Medium Progressive Image Loading: Display an empty placeholder and fill it with a small, low-quality image. When user scrolls to the placeholder, javascript replaces it with the desired high quality image</li>
<li>Facebook’s 200 bytes Technique</li>
</ol>
<p>What’s even more amazing is that the article tested the two methods of lazy load and medium progressive image loading. The loading speed of medium is faster.</p>
<hr>
<h2 id="three-steps-of-medium-progressive-images-loading">Three steps of Medium Progressive Images Loading</h2>
<p>Medium Progressive Images Loading looks complicated, but if we think a while, it’s simple, just three steps:</p>
<ol>
<li>We save another image that width is less than 10px and has a quality down to 10%. Then use the image to replace the src of the img.</li>
<li>We create a function about listening to window scrolling. When user scroll to the image block, function will replaces it with the original image. In this post, I will use a plugin: <strong>waypoints</strong>.</li>
<li>After loading the original image, we set its opacity to 0 and then append it to the placeholder. Then use setTimout 50ms and change opacity to 1, which gives the image a fade in + fade out effect.</li>
</ol>
<p>This is the three steps I thought of, and we’ll move on to the code part.</p>
<hr>
<h2 id="code-part">Code Part</h2>
<h3 id="html--css">HTML / CSS</h3>
<p>Low-quality image, I use photoshop to deal with it.</p>
<p>But how do we make the low-quality image can fill div? I use a CSS feature:</p>
<p><a href="https://medium.com/@peedutuisk/lesser-known-css-quirks-oddities-and-advanced-tips-css-is-awesome-8ee3d16295bb">Vertical padding is relative to element’s width not height.</a></p>
<p>In short, when both units of padding-top and padding-bottom are %, then it refers to the width of the div instead of height.</p>
<p>For example, the <a href="https://getbootstrap.com/docs/3.3/components/#responsive-embed">Bootstrap Responsive Embed</a> is use this feature to make iframe RWD.</p>
<p>The following is the html of image block div:</p>
<script src="https://gist.github.com/letswritetw/4e839fabcaf7b39383498cf73dc8afb2.js"></script>

<p>Here is the SASS that I let the background-image fill the div:</p>
<script src="https://gist.github.com/letswritetw/1fc830f2d3537ebe048eb4165f785b70.js"></script>

<p>Because the background-image is directly inline html, so I only deal with size and postion.</p>
<p>It is important to note that height should be set to 0.</p>
<p>16:9, 4:3, both them are computed by (9/16) * 100, (3/4) * 100. If your image out of those sizes, use js to get the width and height of the div and mathematically calculate: (height/width) * 100.</p>
<h3 id="javascript">JavaScript</h3>
<p>I use jQuery and ES6 to code JavaScript:</p>
<script src="https://gist.github.com/letswritetw/084f07341d6bae554ba9b90c413f1bbc.js"></script>

<p>First, I deal width free size images which means it doesn’t belong to 16:9 || 4:3. But we need back-end IT to render the width and height of image to data-width and data-height.</p>
<p>Second, I use <a href="http://imakewebthings.com/waypoints/">waypoint</a> to listen to each image scrolled to the window.</p>
<p>To prevent the image trigger function every time when user scrolling, it will be canceled by adding destroy() at the end.</p>
<p>Third, I create a image object, and then apped it to div.</p>
<p>The source code I published on Github:</p>
<p><a href="https://github.com/letswritetw/letswrite-medium-lazyload">letswritetw/medium-lazy-load</a></p>
<p>Demo page is here:</p>
<p><a href="https://letswritetw.github.io/letswrite-medium-lazyload/">Progressive image loading like Medium demo</a></p>
<hr>
<h2 id="test-page-loading-time">Test page loading time</h2>
<p>I tested the page load time with <strong><a href="https://www.pingdom.com/">pindom</a></strong> and found it to be really fast.</p>
<p>This result is not use any lazy load speed, 4.57s:</p>
<figure><img src="https://i0.wp.com/miro.medium.com/max/978/1*LAemH0TlNiv1VkBqPivQeg.png?ssl=1"
    alt="not use any lazy load speed"><figcaption>
      <h4>not use any lazy load speed</h4>
    </figcaption>
</figure>

<p>This result is using progressive image loading, down to 2.02s:</p>
<figure><img src="https://i0.wp.com/miro.medium.com/max/987/1*5pP5v3uHblxKA9aqhzZarQ.png?ssl=1"
    alt="using progressive image loading"><figcaption>
      <h4>using progressive image loading</h4>
    </figcaption>
</figure>

<p>Finally, we know that progressive image loading helps speed up page loading and further improve SEO.</p>
<hr>
<p>If you find this article helpful, please click on the helpful button made by myself. If you are willing to share on the social, that’s even better.</p>


		<hr>

		
		<h4>Category：
			
				<a class="capitalize" href="/categories/front-end">front-end</a>
			
		</h4>

		
		<h4>Tags</h4>
		
			<a class="tag" href="/tags/image/">Image</a>
		
			<a class="tag" href="/tags/medium/">Medium</a>
		
			<a class="tag" href="/tags/progressive/">Progressive</a>
		

		
		<div class="flex flex-wrap justify-between">
			
				<div class="sm:flex-1 pr-2 w-full sm:w-1/2">
					<h4 class="!mb-0">Prev</h4>
					<a href="/google-excel-db/">How to use Google Sheets as a database</a>
				</div>
			
			
				<div class="sm:flex-1 pl-2 w-full sm:w-1/2 text-right">
					<h4 class="!mb-0">Next</h4>
					<a href="/gcp-node/">If I already have node.js files, how do I deploy them to Google Cloud Platform(GCP)</a>
				</div>
			
		</div>

		<hr>

		
		
		

	</article>


			</div>

			<ul class="flex justify-center">
				
  
  

  
  <li>
    <a class="inline-block mx-1" href="https://t.me/letswritetw">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-3.11-8.83l.013-.007.87 2.87c.112.311.266.367.453.341.188-.025.287-.126.41-.244l1.188-1.148 2.55 1.888c.466.257.801.124.917-.432l1.657-7.822c.183-.728-.137-1.02-.702-.788l-9.733 3.76c-.664.266-.66.638-.12.803l2.497.78z" fill="rgba(102,102,102,1)"/></svg>
    </a>
  </li>

  
  <li>
    <a class="inline-block mx-1" href="https://github.com/letswritetw">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 2C6.475 2 2 6.475 2 12a9.994 9.994 0 0 0 6.838 9.488c.5.087.687-.213.687-.476 0-.237-.013-1.024-.013-1.862-2.512.463-3.162-.612-3.362-1.175-.113-.288-.6-1.175-1.025-1.413-.35-.187-.85-.65-.013-.662.788-.013 1.35.725 1.538 1.025.9 1.512 2.338 1.087 2.912.825.088-.65.35-1.087.638-1.337-2.225-.25-4.55-1.113-4.55-4.938 0-1.088.387-1.987 1.025-2.688-.1-.25-.45-1.275.1-2.65 0 0 .837-.262 2.75 1.026a9.28 9.28 0 0 1 2.5-.338c.85 0 1.7.112 2.5.337 1.912-1.3 2.75-1.024 2.75-1.024.55 1.375.2 2.4.1 2.65.637.7 1.025 1.587 1.025 2.687 0 3.838-2.337 4.688-4.562 4.938.362.312.675.912.675 1.85 0 1.337-.013 2.412-.013 2.75 0 .262.188.574.688.474A10.016 10.016 0 0 0 22 12c0-5.525-4.475-10-10-10z" fill="rgba(102,102,102,1)"/></svg>
    </a>
  </li>

  
  

  
  
			</ul>

			<p class="p-4 text-center text-xs">&copy; 2025 Let&#39;s Write. All Rights Reserved.</p>

		</div>

	</div>

	

<script src="https://en.letswrite.tw/main.min.7641d51f1382483bab227ce3f7fa51e541bf6a9df71643b13a5e8590ce43bb1d.js"></script>

</body>

</html>